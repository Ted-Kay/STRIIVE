<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects | STRIIVETECH</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --red: #E31E24; --dark-red: #B91C22; --white: #FFFFFF; --light-gray: #F5F5F7; --text-dark: #171717; --text-gray: #393939; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background: var(--white); color: var(--text-dark); -webkit-font-smoothing: antialiased; }

        nav { position: fixed; top: 0; width: 100%; z-index: 1000; background: rgba(255, 255, 255, 0.8); backdrop-filter: saturate(180%) blur(20px); border-bottom: 1px solid rgba(0, 0, 0, 0.05); }
        .nav-container { max-width: 1400px; margin: 0 auto; padding: 1rem 3rem; display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; text-decoration: none; }
        .logo img { height: 32px; width: auto; display: block; transition: opacity 0.2s; }
        .logo:hover img { opacity: 0.8; }
        .nav-links { display: flex; gap: 2.5rem; list-style: none; }
        .nav-links a { font-size: 0.875rem; font-weight: 500; color: var(--text-dark); text-decoration: none; transition: opacity 0.2s; }
        .nav-links a:hover { opacity: 0.7; }
        .nav-links a.active { color: var(--red); }

        .hero { padding: 8rem 2rem 4rem; text-align: center; background: var(--light-gray); }
        .hero-badge { font-size: 0.875rem; font-weight: 800; letter-spacing: 0.15em; text-transform: uppercase; color: var(--red); margin-bottom: 1rem; }
        .hero h1 { font-size: clamp(2.5rem, 5vw, 4rem); font-weight: 700; letter-spacing: -0.03em; margin-bottom: 1.5rem; color: var(--text-dark); }
        .hero-description { font-size: 1.125rem; color: var(--text-dark); opacity: 0.8; max-width: 800px; margin: 0 auto 2rem; line-height: 1.6; }
        .hero-stats { display: flex; gap: 3rem; justify-content: center; margin-top: 2rem; }
        .stat { text-align: center; }
        .stat-number { font-size: 2.5rem; font-weight: 700; color: var(--red); line-height: 1; margin-bottom: 0.5rem; }
        .stat-label { font-size: 0.875rem; color: var(--text-dark); font-weight: 600; }

        .filters { padding: 2rem; background: var(--white); border-bottom: 1px solid rgba(0, 0, 0, 0.05); position: sticky; top: 65px; z-index: 100; }
        .filters-container { max-width: 1200px; margin: 0 auto; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
        .filter-btn { padding: 0.5rem 1.5rem; font-size: 0.875rem; font-weight: 500; background: transparent; color: var(--text-dark); border: 1px solid rgba(0, 0, 0, 0.1); border-radius: 980px; cursor: pointer; transition: all 0.2s; }
        .filter-btn:hover, .filter-btn.active { background: var(--red); color: var(--white); border-color: var(--red); font-weight: 600; }

        .projects { padding: 4rem 2rem; background: var(--white); }
        .projects-container { max-width: 1200px; margin: 0 auto; }
        .projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 2rem; }

        .project { background: var(--light-gray); border-radius: 12px; overflow: hidden; transition: transform 0.2s; }
        .project.hidden { display: none; }
        .project:hover { transform: translateY(-4px); }

        .project-header { padding: 2rem; background: var(--red); color: var(--white); }
        .project-category { font-size: 0.75rem; font-weight: 800; letter-spacing: 0.2em; text-transform: uppercase; margin-bottom: 0.5rem; }

        /* ===== Robust image slider (fix: all images display & cycle) ===== */
        .project-slider {
            position: relative;
            width: 100%;
            height: 220px;
            overflow: hidden;
            background: #0b0b0b;
        }
        .project-slider img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transform: scale(1.04);
            transition: opacity 800ms ease, transform 1200ms ease;
            will-change: opacity, transform;
            pointer-events: none;  /* clicks go to dots/container */
        }
        .project-slider img.active {
            opacity: 1;
            transform: scale(1);
            z-index: 1;
        }
        .project-slider::after {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.35), rgba(0,0,0,0));
            pointer-events: none;
            z-index: 2;
        }

        .slider-dots {
            position: absolute;
            left: 14px;
            bottom: 12px;
            display: flex;
            gap: 8px;
            z-index: 10;  /* above overlay and images */
        }
        .dot {
            width: 7px;
            height: 7px;
            border-radius: 999px;
            background: rgba(255,255,255,0.55);
            border: 1px solid rgba(255,255,255,0.25);
            transition: transform 200ms ease, background 200ms ease;
            cursor: pointer;
            z-index: 11;
        }
        .dot.active {
            background: rgba(255,255,255,0.95);
            transform: scale(1.2);
        }

        .project-body { padding: 2rem; }
        .project-list { list-style: none; }
        .project-list li { padding: 0.875rem 0; border-bottom: 1px solid rgba(0, 0, 0, 0.05); font-size: 0.875rem; line-height: 1.6; color: var(--text-dark); font-weight: 500; }
        .project-list li:last-child { border-bottom: none; }

        @media (max-width: 968px) { .hero-stats { flex-wrap: wrap; gap: 2rem; } .projects-grid { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .nav-links { display: none; } .nav-container, .hero, .projects { padding-left: 1.5rem; padding-right: 1.5rem; } .project-slider { height: 200px; } }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="index.html" class="logo">
                <!-- using placeholder text in case image missing, but src kept as original -->
                <img src="striive_logo_clean.png" alt="STRIIVETECH" onerror="this.style.display='none'; this.parentElement.innerHTML='STRIIVETECH';">
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="capabilities.html">Capabilities</a></li>
                <li><a href="projects.html" class="active">Projects</a></li>
                <li><a href="leadership.html">Leadership</a></li>
                <li><a href="process.html">Process</a></li>
            </ul>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-badge">Our Portfolio</div>
        <h1>Proven Results Across Industries</h1>
        <p class="hero-description">
            Our team has a diverse footprint of projects within several sectors, leading and managing multi-million dollar projects that have generated commensurate returns and significant business impact.
        </p>
        <div class="hero-stats">
            <div class="stat"><div class="stat-number">50+</div><div class="stat-label">Projects Delivered</div></div>
            <div class="stat"><div class="stat-number">5</div><div class="stat-label">Industry Sectors</div></div>
            <div class="stat"><div class="stat-number">100%</div><div class="stat-label">Success Rate</div></div>
        </div>
    </section>

    <section class="filters">
        <div class="filters-container">
            <button class="filter-btn active" data-filter="all">All Projects</button>
            <button class="filter-btn" data-filter="oil-gas">Oil & Gas</button>
            <button class="filter-btn" data-filter="engineering">Engineering & Tech</button>
            <button class="filter-btn" data-filter="infrastructure">Infrastructure</button>
            <button class="filter-btn" data-filter="telecom">Telecommunications</button>
            <button class="filter-btn" data-filter="manufacturing">Manufacturing</button>
        </div>
    </section>

    <section class="projects">
        <div class="projects-container">
            <div class="projects-grid">

                <!-- OIL & GAS – images: 19.webp, 26.png, 18.jpg -->
                <div class="project" data-category="oil-gas">
                    <div class="project-header"><div class="project-category">Oil & Gas</div></div>
                    <div class="project-slider" data-interval="3200">
                        <img src="/mnt/data/19.webp" alt="Offshore production platform" class="active">
                        <img src="/mnt/data/26.png" alt="Shipyard / dry dock operations">
                        <img src="/mnt/data/18.jpg" alt="Gas storage and processing facility">
                        <div class="slider-dots" aria-hidden="true">
                            <span class="dot active"></span><span class="dot"></span><span class="dot"></span>
                        </div>
                    </div>
                    <div class="project-body">
                        <ul class="project-list">
                            <li>Corrosion Control and Maintenance of Subsea equipment</li>
                            <li>Blasting &amp; Coating of Production Equipment</li>
                            <li>Fabrication &amp; Coating of Offshore Pipe Spools equipment</li>
                        </ul>
                    </div>
                </div>

                <!-- ENGINEERING & TECH – images: 12.jpg, 13.jpg, 14.jpg, 22.jpg -->
                <div class="project" data-category="engineering">
                    <div class="project-header"><div class="project-category">Engineering and Technology</div></div>
                    <div class="project-slider" data-interval="2800">
                        <img src="/mnt/data/12.jpg" alt="Welding and fabrication" class="active">
                        <img src="/mnt/data/13.jpg" alt="Control system operator and instrumentation">
                        <img src="/mnt/data/14.jpg" alt="Industrial cutting and metalwork">
                        <img src="/mnt/data/22.jpg" alt="Electronics and embedded systems">
                        <div class="slider-dots" aria-hidden="true">
                            <span class="dot active"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                        </div>
                    </div>
                    <div class="project-body">
                        <ul class="project-list">
                            <li>Solar Installation (3 projects)</li>
                            <li>New Factory Production Line Installation, Integration &amp; Commissioning (5 projects)</li>
                            <li>Inventory and Supply Chain Management Software</li>
                            <li>Warehouse Management System</li>
                            <li>Industrial Water Treatment</li>
                            <li>Automated End-of-Line Transfer System</li>
                            <li>Operations/Process Flow Remodeling &amp; Upgrade</li>
                        </ul>
                    </div>
                </div>

                <!-- INFRASTRUCTURE – we now use three distinct infrastructure‑related images: 25.jpg, 12.jpg, 14.jpg for variety -->
                <div class="project" data-category="infrastructure">
                    <div class="project-header"><div class="project-category">Infrastructure & Construction</div></div>
                    <div class="project-slider" data-interval="3200">
                        <img src="/mnt/data/25.jpg" alt="Industrial plant infrastructure" class="active">
                        <img src="/mnt/data/12.jpg" alt="Construction welding">
                        <img src="/mnt/data/14.jpg" alt="Structural metalwork">
                        <div class="slider-dots" aria-hidden="true">
                            <span class="dot active"></span><span class="dot"></span><span class="dot"></span>
                        </div>
                    </div>
                    <div class="project-body">
                        <ul class="project-list">
                            <li>Warehouse Construction (2 projects)</li>
                            <li>Warehouse/Storage Refurbishment</li>
                            <li>New Factory Construction &amp; Expansion (4 projects)</li>
                            <li>Construction of Office Complex (2 projects)</li>
                        </ul>
                    </div>
                </div>

                <!-- TELECOMMUNICATIONS – distinct images: 22.jpg, 13.jpg, 12.jpg (digital/electronics/control) -->
                <div class="project" data-category="telecom">
                    <div class="project-header"><div class="project-category">Telecommunications and Digital Systems</div></div>
                    <div class="project-slider" data-interval="2800">
                        <img src="/mnt/data/22.jpg" alt="Digital systems and electronics" class="active">
                        <img src="/mnt/data/13.jpg" alt="Control room / monitoring">
                        <img src="/mnt/data/12.jpg" alt="Fiber / network fabrication">
                        <div class="slider-dots" aria-hidden="true">
                            <span class="dot active"></span><span class="dot"></span><span class="dot"></span>
                        </div>
                    </div>
                    <div class="project-body">
                        <ul class="project-list">
                            <li>Fiber Layout Design and Installation</li>
                            <li>Business Development &amp; Sales</li>
                            <li>Business Model Redesign &amp; Implementation</li>
                        </ul>
                    </div>
                </div>

                <!-- MANUFACTURING – images: 25.jpg (plant), 12.jpg (welding), 13.jpg (control) plus one more 14.jpg -->
                <div class="project" data-category="manufacturing">
                    <div class="project-header"><div class="project-category">Manufacturing</div></div>
                    <div class="project-slider" data-interval="3000">
                        <img src="/mnt/data/25.jpg" alt="Manufacturing plant systems" class="active">
                        <img src="/mnt/data/12.jpg" alt="Factory welding and fabrication">
                        <img src="/mnt/data/13.jpg" alt="Factory operations control systems">
                        <img src="/mnt/data/14.jpg" alt="Precision metal cutting">
                        <div class="slider-dots" aria-hidden="true">
                            <span class="dot active"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
                        </div>
                    </div>
                    <div class="project-body">
                        <ul class="project-list">
                            <li>Factory Expansion (3 projects)</li>
                            <li>End to End Food Processing Lines (5 projects)</li>
                            <li>Factory Process Automation &amp; Optimization (3 projects)</li>
                            <li>Brand Architecture Renovation &amp; Management</li>
                            <li>Packaging Line Project (3 projects)</li>
                            <li>New Product Renovation/Development (13 projects)</li>
                            <li>Copacking/ Joint Venture Projects (2 projects)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        (function() {
            // FILTER FUNCTIONALITY (unchanged, robust)
            const filterBtns = document.querySelectorAll('.filter-btn');
            const projects = document.querySelectorAll('.project');

            function filterProjects(filterValue) {
                projects.forEach(proj => {
                    const cat = proj.dataset.category;
                    if (filterValue === 'all' || cat === filterValue) {
                        proj.classList.remove('hidden');
                    } else {
                        proj.classList.add('hidden');
                    }
                });
            }

            filterBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    filterProjects(btn.dataset.filter);
                });
            });

            // ---------- SLIDER INIT: every image shows correctly, no single-image loops ----------
            function initSliders() {
                const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                const sliders = document.querySelectorAll('.project-slider');

                sliders.forEach(slider => {
                    const imgs = Array.from(slider.querySelectorAll('img'));
                    const dotsContainer = slider.querySelector('.slider-dots');
                    // in case dots container missing, skip dot logic but keep image rotation
                    const dots = dotsContainer ? Array.from(dotsContainer.querySelectorAll('.dot')) : [];
                    const interval = Number(slider.dataset.interval) || 3000;

                    if (imgs.length === 0) return;

                    // find current active index
                    let currentIdx = imgs.findIndex(img => img.classList.contains('active'));
                    if (currentIdx < 0) {
                        // force first image active if none
                        currentIdx = 0;
                        imgs.forEach((img, i) => {
                            img.classList.toggle('active', i === 0);
                        });
                    }

                    // synchronise dots with active class
                    function syncDots(index) {
                        if (dots.length && dots.length === imgs.length) {
                            dots.forEach((dot, i) => {
                                dot.classList.toggle('active', i === index);
                            });
                        }
                    }
                    syncDots(currentIdx);

                    // function to set active image by index
                    function setActiveImage(newIdx) {
                        if (newIdx === currentIdx) return;
                        imgs[currentIdx].classList.remove('active');
                        imgs[newIdx].classList.add('active');
                        if (dots.length && dots.length === imgs.length) {
                            dots[currentIdx]?.classList.remove('active');
                            dots[newIdx]?.classList.add('active');
                        }
                        currentIdx = newIdx;
                    }

                    // auto rotation
                    let timer = null;

                    function startRotation() {
                        if (prefersReduced) return;
                        stopRotation();
                        timer = setInterval(() => {
                            const nextIdx = (currentIdx + 1) % imgs.length;
                            setActiveImage(nextIdx);
                        }, interval);
                    }

                    function stopRotation() {
                        if (timer) {
                            clearInterval(timer);
                            timer = null;
                        }
                    }

                    // attach hover & focus events
                    slider.addEventListener('mouseenter', stopRotation);
                    slider.addEventListener('mouseleave', startRotation);
                    slider.addEventListener('focusin', stopRotation);
                    slider.addEventListener('focusout', startRotation);

                    // click on dots (if present)
                    if (dots.length && dots.length === imgs.length) {
                        dots.forEach((dot, i) => {
                            // remove any previous listener to avoid duplicates (simple approach: replace with new)
                            dot.replaceWith(dot.cloneNode(true));
                        });
                        // re-query dots after clone
                        const freshDots = Array.from(slider.querySelectorAll('.dot'));
                        freshDots.forEach((dot, i) => {
                            dot.addEventListener('click', (e) => {
                                e.stopPropagation();
                                setActiveImage(i);
                                // restart timer after manual click? common pattern: stop then start again
                                stopRotation();
                                startRotation();
                            });
                        });
                        // update dots reference in slider for sync (but syncDots uses updated dots from closure)
                        // we will use a mutation at the end, but easiest: keep using the freshDots inside slider for syncDots? 
                        // we redefined syncDots to use dots from closure, but after clone we need to use new dots
                        // simpler: after cloning, reassign and redo sync
                        (function updateDotsAndSync() {
                            const newDots = Array.from(slider.querySelectorAll('.dot'));
                            // syncDots using newDots
                            function synced(newIdx) {
                                newDots.forEach((d, idx) => d.classList.toggle('active', idx === newIdx));
                            }
                            synced(currentIdx);
                            // attach listeners to new dots
                            newDots.forEach((dot, idx) => {
                                dot.addEventListener('click', (e) => {
                                    e.stopPropagation();
                                    setActiveImage(idx);
                                    synced(idx); // redundant but fine
                                    stopRotation();
                                    startRotation();
                                });
                            });
                        })();
                    }

                    // start slider rotation
                    startRotation();

                    // optional: pause rotation when slider not visible (due to filter) – but not necessary
                });
            }

            // run after DOM ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initSliders);
            } else {
                initSliders();
            }

            // reinit sliders after filter? no need because images remain and sliders continue working,
            // but if hidden by filter they will pause due to mouseleave? They keep rotating in background which is fine.
            // However, if you want to ensure newly visible sliders start properly: we can restart timers when becoming visible.
            // But simpler: all sliders already have timers running even if hidden, not an issue. We can improve by using IntersectionObserver? Not necessary for demo.
        })();
    </script>

    <!-- ensure images have fallback in case 404 (just for demo robustness) -->
    <script>
        (function addImageFallback() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.addEventListener('error', function() {
                    this.onerror = null;   // prevent infinite loop
                    this.alt = '[Image unavailable]';
                    this.style.background = '#2a2a2a';
                    this.style.objectFit = 'contain';
                    this.style.padding = '20px';
                    // optionally replace src with a data URI or leave broken, but we show fallback
                });
            });
        })();
    </script>
</body>
</html>
